<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
      integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Exercice</title>
  </head>
  <body>
    <nav id="navigation">
      <p id="menuOpen">Menu</p>
      <button
        onclick="location.href = 'apprendre_a_jouer.html';"
        class="button_nav"
      >
        Apprendre à jouer
      </button>
      <button onclick="location.href = 'sandbox.html';" class="button_nav">
        Bac à sable
      </button>
      <button onclick="location.href = 'exercices.html';" class="button_nav">
        Exercices pratiques
      </button>
      <button onclick="location.href = 'versus.html';" class="button_nav">
        1 contre 1 local
      </button>
    </nav>
    <center>
    <h1>Score : <span id="score">0</span>/2</h1>
    <section>
      <h2>Le mat du couloir</h2>
      <div id="board1" style="width: 400px"></div><br>
      <button class="buttonquest" id="m1-1" style="width:120px;height:35px;border:0;background-color:orange;cursor:pointer;transition:0.25s; margin: 0 10px;">c2 à c4</button>
      <button class="buttonquest" id="m1-2" style="width:120px;height:35px;border:0;background-color:orange;cursor:pointer;transition:0.25s; margin: 0 10px;">e1 à e8</button>
    </section><br><br>
    <section>
      <h2>Baiser de la mort</h2>
      <div id="board2" style="width: 400px"></div><br>
      <button class="buttonquest" id="m2-1" style="width:120px;height:35px;border:0;background-color:orange;cursor:pointer;transition:0.25s; margin: 0 10px;">b7 à b2</button>
      <button class="buttonquest" id="m2-2" style="width:120px;height:35px;border:0;background-color:orange;cursor:pointer;transition:0.25s; margin: 0 10px;">b7 à b1</button>
    </section>
    </center><br>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"
      integrity="sha384-8Vi8VHwn3vjQ9eUHUxex3JSN/NFqUg3QbPyX8kWyb93+8AC/pPWTzj+nHtbC5bxD"
      crossorigin="anonymous"
    ></script>
    <script>
      let score = 0;
      let board = Chessboard("board1", {
        draggable: false,
        position: {
          f7: "bP",
          g7: "bP",
          h7: "bP",
          g8: "bK",
          a2: "wP",
          b2: "wP",
          c2: "wP",
          e1: "wR",
          b1: "wK",
        },
      });
      document.getElementById("m1-1").onclick = () => {
        board.move("c2-c4");
        document.getElementById("m1-1").remove();
        document.getElementById("m1-2").remove();
        alert("FAUX !");
      };

      document.getElementById("m1-2").onclick = () => {
        board.move("e1-e8");
        document.getElementById("m1-1").remove();
        document.getElementById("m1-2").remove();
        alert("ECHEC ET MAT !");
        score++;
        document.getElementById("score").innerHTML = score;
      };

      let board2 = Chessboard("board2", {
        draggable: false,
        position: {
          a2: "wK",
          c2: "bK",
          b7: "bQ",
        },
      });

      document.getElementById("m2-1").onclick = () => {
        board2.move("b7-b2");
        document.getElementById("m2-1").remove();
        document.getElementById("m2-2").remove();
        alert("ECHEC ET MAT");
        score++;
        document.getElementById("score").innerHTML = score;
      };

      document.getElementById("m2-2").onclick = () => {
        board2.move("b7-b1");
        document.getElementById("m2-1").remove();
        document.getElementById("m2-2").remove();
        alert("FAUX !");
      };
    </script>
  </body>
</html>
